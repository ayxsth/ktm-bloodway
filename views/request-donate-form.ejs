<%-include("./templates/header")%>
<main>
  <div class="body-wrapper">
    <div class="container">
      <div class="d-flex justify-content-center">
        <div class="form-wrapper w-40">
          <form class="row g-3">
            <div class="d-flex flex-column align-items-center">
              <img src="/img/logo.png" alt="logo" class="logo-form" />
              <p class="logo-name">KTM BlOODWAY</p>
            </div>
            <h3><%- isRequestForm ? "Request" : "Donate"%></h3>

            <div class="col-md-6">
              <label for="fname" class="form-label required">First Name</label>
              <input
                type="text"
                class="form-control"
                id="fname"
                placeholder="Joe"
                value="<%- bloodRequest?.firstName || user.firstName %>"
                required
              />
              <div class="fname-error error mt-1"></div>
            </div>

            <div class="col-md-6">
              <label for="lname" class="form-label required">Last Name</label>
              <input
                type="text"
                class="form-control"
                id="lname"
                placeholder="Biden"
                value="<%- user.lastName %>"
                required
              />
              <div class="lname-error error mt-1"></div>
            </div>

            <input
              type="hidden"
              id="hidden-id"
              value="<%- bloodRequest?._id || '' %>"
            />

            <div class="col-12">
              <label for="email" class="form-label required">Email</label>
              <input
                type="email"
                class="form-control"
                id="email"
                placeholder="joe@example.com"
                value="<%- user.email %>"
                required
              />
              <div class="email-error error mt-1"></div>
            </div>

            <div class="col-12">
              <label for="contact" class="form-label required">Contact</label>
              <input
                type="text"
                class="form-control"
                id="contact"
                placeholder="9841000000"
                value="<%- user.contact %>"
                required
              />
              <div class="contact-error error mt-1"></div>
            </div>

            <% if (!isRequestForm) { %>
            <div class="col-12">
              <label for="address" class="form-label required">Address</label>
              <input
                type="text"
                class="form-control"
                id="address"
                placeholder="Putalisadak"
                value="<%- user.address %>"
                required
              />
              <div class="address-error error mt-1"></div>
            </div>

            <div class="col-12">
              <label for="age" class="form-label required">Age</label>
              <input
                type="text"
                class="form-control"
                id="age"
                placeholder="18"
                required
              />
              <div class="age-error error mt-1"></div>
            </div>

            <div>
              <legend class="col-form-label col-sm-2 pt-0 required">
                Gender
              </legend>
              <div class="col-sm-10">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="gender"
                    id="male"
                    value="Male"
                    required
                  />
                  <label class="form-check-label" for="male"> Male </label>
                </div>

                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="gender"
                    id="female"
                    value="Female"
                    required
                  />
                  <label class="form-check-label" for="female"> Female </label>
                </div>

                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="gender"
                    id="other"
                    value="Other"
                    required
                  />
                  <label class="form-check-label" for="other"> Other </label>
                </div>
              </div>
              <div class="gender-error error mt-1"></div>
            </div>
            <%}%>

            <div class="col-12">
              <label for="blood-group" class="form-label required">
                Blood Group
              </label>
              <select id="blood-group" class="form-select" required>
                <option selected disabled>Choose...</option>
                <option value="A+">A+</option>
                <option value="A-">A-</option>
                <option value="B+">B+</option>
                <option value="B-">B-</option>
                <option value="AB+">AB+</option>
                <option value="AB-">AB-</option>
                <option value="O+">O+</option>
                <option value="O-">O-</option>
              </select>
              <div class="blood-group-error error mt-1"></div>
            </div>

            <% if (isRequestForm) { %>
            <div class="col-12">
              <label for="note" class="form-label required">Note</label>
              <textarea
                class="form-control"
                id="note"
                rows="3"
                placeholder="How much blood you need?..."
                required
              ></textarea>
              <div class="notes-error error mt-1"></div>
            </div>
            <%}%>

            <div class="col-12">
              <button
                type="submit"
                id="<%- isRequestForm ? 'request' : 'donate'%>"
                class="btn btn-primary"
              >
                <%- isRequestForm ? "Request" : "Donate"%>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</main>
<script src="/js/request-donate.js"></script>

<%-include("./templates/footer")%>
